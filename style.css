@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');

:root {
  --gold: #c9a84c;
  --gold-light: #f0d080;
  --dark: #0e0e0e;
  --dark2: #1a1510;
  --dark3: #231e17;
  --board-light: #f0d9b5;
  --board-dark: #1a0f00;
  --border: #6b4c1e;
  --white-piece: #f5f0e8;
  --black-piece: #1c1c1c;
  --selected: #f0c040;
  --hint: rgba(240,192,64,0.55);
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Crimson Text', serif;
  background: var(--dark);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 12px 8px 24px;
  background-image:
    radial-gradient(ellipse at 50% 0%, rgba(180,140,40,0.12) 0%, transparent 60%),
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 40px,
      rgba(255,255,255,0.01) 40px,
      rgba(255,255,255,0.01) 41px
    );
}

/* HEADER */
.header { text-align:center; margin-bottom:14px; }
.title {
  font-family:'Cinzel',serif;
  font-size: clamp(2rem,7vw,3rem);
  color: var(--gold);
  letter-spacing: 0.25em;
  text-shadow: 0 0 30px rgba(201,168,76,0.5), 0 2px 4px rgba(0,0,0,0.8);
}
.subtitle {
  font-family:'Cinzel',serif;
  font-size: clamp(0.55rem,2vw,0.7rem);
  color: rgba(201,168,76,0.5);
  letter-spacing: 0.4em;
  margin-top: 2px;
}

/* LOBBY */
#lobby { width:100%; max-width:400px; }
.lobby-card {
  background: var(--dark3);
  border: 1px solid rgba(201,168,76,0.2);
  border-radius: 20px;
  padding: 28px 22px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.05);
}
.lobby-title {
  font-family:'Cinzel',serif;
  color: var(--gold);
  font-size: 1.1rem;
  text-align:center;
  margin-bottom: 20px;
  letter-spacing: 0.1em;
}

.input-group { margin-bottom:14px; }
.input-group label {
  display:block;
  color: rgba(201,168,76,0.6);
  font-size: 0.65rem;
  font-family:'Cinzel',serif;
  letter-spacing: 0.2em;
  margin-bottom: 6px;
}
.input-group input {
  width:100%;
  padding: 11px 14px;
  border-radius: 10px;
  border: 1px solid rgba(201,168,76,0.2);
  background: rgba(255,255,255,0.05);
  color: white;
  font-family:'Crimson Text',serif;
  font-size: 16px;
  outline:none;
  transition: border-color 0.3s;
}
.input-group input:focus { border-color: var(--gold); }
.input-group input::placeholder { color:rgba(255,255,255,0.25); }

.color-label {
  font-family:'Cinzel',serif;
  color:rgba(201,168,76,0.6);
  font-size:0.65rem;
  letter-spacing:0.2em;
  margin-bottom:10px;
}

.piece-picker { display:flex; gap:12px; justify-content:center; margin-bottom:18px; }
.piece-opt {
  display:flex; flex-direction:column; align-items:center; gap:6px;
  padding: 10px 20px;
  border-radius:12px;
  border: 1px solid rgba(255,255,255,0.1);
  cursor:pointer; transition:all 0.2s;
  color:rgba(255,255,255,0.5);
  font-size:0.8rem;
  font-family:'Cinzel',serif;
  letter-spacing:0.05em;
}
.piece-opt:hover { border-color:var(--gold); }
.piece-opt.selected {
  border-color:var(--gold);
  background:rgba(201,168,76,0.1);
  color:var(--gold);
  box-shadow:0 0 12px rgba(201,168,76,0.2);
}
.piece-preview {
  width:36px; height:36px; border-radius:50%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
}
.white-piece {
  background: radial-gradient(circle at 35% 30%, #ffffff, #d4cfc7 60%, #a09890);
  border: 2px solid #888;
}
.black-piece {
  background: radial-gradient(circle at 35% 30%, #555555, #1c1c1c 60%, #050505);
  border: 2px solid #000;
}

.btn {
  width:100%; padding:13px;
  border-radius:12px; border:none;
  font-family:'Cinzel',serif;
  font-size:0.85rem; letter-spacing:0.15em;
  cursor:pointer; transition:all 0.2s;
  margin-top:6px;
}
.btn:hover { transform:translateY(-2px); }
.btn-create {
  background: linear-gradient(135deg, var(--gold), #a07828);
  color: #0e0e0e;
  box-shadow: 0 4px 20px rgba(201,168,76,0.3);
}
.btn-create:hover { box-shadow:0 8px 30px rgba(201,168,76,0.5); }
.btn-join {
  background: transparent;
  color: var(--gold);
  border: 1px solid var(--gold) !important;
  border: none;
}
.btn-join:hover { background:rgba(201,168,76,0.1); }

.divider { text-align:center; color:rgba(255,255,255,0.2); font-size:0.75rem; letter-spacing:0.2em; margin:14px 0; }

.room-code-box {
  background:rgba(201,168,76,0.08);
  border:1px dashed rgba(201,168,76,0.4);
  border-radius:10px;
  padding:14px;
  margin-top:14px;
  color:var(--gold);
  font-family:'Cinzel',serif;
  font-size:2.2rem;
  letter-spacing:10px;
  text-align:center;
}
.room-hint { color:rgba(255,255,255,0.3); font-size:0.8rem; margin-top:6px; text-align:center; }
.waiting { text-align:center; padding:14px; color:rgba(255,255,255,0.4); font-size:0.9rem; }
.waiting span { animation:pulse 1.5s infinite; display:inline-block; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }

/* GAME */
#game { display:none; width:100%; max-width:620px; }

.game-header {
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 14px; margin-bottom:10px;
  background:var(--dark3);
  border:1px solid rgba(201,168,76,0.15);
  border-radius:14px;
}
.player-badge { display:flex; align-items:center; gap:8px; }
.player-badge.reverse { flex-direction:row-reverse; }
.badge-dot {
  width:18px; height:18px; border-radius:50%;
  box-shadow:0 2px 8px rgba(0,0,0,0.5);
}
.badge-info { display:flex; flex-direction:column; }
.badge-name { font-family:'Cinzel',serif; font-size:0.7rem; color:rgba(255,255,255,0.7); letter-spacing:0.05em; }
.badge-count { font-family:'Cinzel',serif; font-size:1.2rem; color:var(--gold); font-weight:900; }

.turn-indicator {
  font-family:'Cinzel',serif;
  font-size:0.75rem;
  color:var(--gold);
  text-align:center;
  letter-spacing:0.05em;
  padding:6px 12px;
  background:rgba(201,168,76,0.08);
  border-radius:20px;
  border:1px solid rgba(201,168,76,0.2);
}

/* TABLERO */
.board-wrap {
  width:100%; aspect-ratio:1;
  padding:10px;
  background: linear-gradient(145deg, #3d2800, #1a0f00, #3d2800);
  border-radius:14px;
  box-shadow:
    0 0 0 2px #6b4c1e,
    0 0 0 4px #2a1800,
    0 20px 60px rgba(0,0,0,0.8),
    inset 0 0 30px rgba(0,0,0,0.4);
}
canvas#board {
  width:100%; height:100%;
  border-radius:6px;
  display:block;
  cursor:pointer;
}

.status-bar {
  text-align:center;
  margin-top:10px;
  font-family:'Cinzel',serif;
  font-size:0.8rem;
  color:rgba(201,168,76,0.7);
  letter-spacing:0.1em;
  min-height:1.4em;
}

/* WIN */
#win-screen {
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.92);
  backdrop-filter:blur(16px);
  z-index:100;
  flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding:20px; gap:16px;
}
.win-emoji { font-size:80px; animation:bounce 1s infinite; }
@keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-18px)} }
.win-text {
  font-family:'Cinzel',serif;
  font-size:clamp(2rem,8vw,3.5rem);
  color:var(--gold);
  text-shadow:0 0 40px rgba(201,168,76,0.8);
  letter-spacing:0.2em;
}
.win-sub { color:rgba(255,255,255,0.5); font-size:1rem; }
.btn-again {
  background:linear-gradient(135deg,var(--gold),#a07828);
  color:#0e0e0e; padding:13px 40px;
  border-radius:50px; border:none;
  font-family:'Cinzel',serif;
  font-size:1rem; letter-spacing:0.1em;
  cursor:pointer; transition:all 0.2s;
  margin-top:8px;
}
.btn-again:hover { transform:scale(1.05); box-shadow:0 8px 30px rgba(201,168,76,0.4); }

/* TOAST */
.toast {
  position:fixed; bottom:30px; left:50%;
  transform:translateX(-50%) translateY(100px);
  background:rgba(201,168,76,0.95);
  color:#0e0e0e; padding:10px 22px;
  border-radius:50px;
  font-family:'Cinzel',serif;
  font-size:0.8rem; letter-spacing:0.05em;
  z-index:200; transition:transform 0.4s ease;
  white-space:nowrap;
  box-shadow:0 4px 20px rgba(0,0,0,0.4);
}
.toast.show { transform:translateX(-50%) translateY(0); }
